{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","utils/utils.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","handleCardClick","cards","style","backgroundImage","avatar","about","map","Footer","PopupWithForm","props","isOpen","onClose","title","onSubmit","action","noValidate","children","submitButtonText","ImagePopup","api","options","response","ok","json","Promise","reject","status","this","baseUrl","headers","fetch","then","inputData","method","body","JSON","stringify","cardData","cardId","like","inputLink","authorization","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","evt","preventDefault","value","onChange","target","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","App","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","all","getUserData","getInitialCards","userData","catch","err","console","log","closeAllPopups","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","saveUserData","avatarLink","updateAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d37ad45f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <header className=\"header page__section\">\n      <img\n        className=\"logo header__logo\"\n        src={logo}\n        alt=\"Логотип Проекта Место\"\n      />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `place__delete-button hover button_type_delete ${\n    isOwn ? 'place__delete-button_visible' : 'place__delete-button_hidden'\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `${\n    isLiked ? 'place__like place__like_active' : 'place__like'\n  }`;\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  return (\n    <li className=\"place\">\n      <img\n        className=\"place__photo\"\n        src={card.link}\n        alt={card.name}\n        onClick={handleClick}\n      />\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      ></button>\n      <div className=\"place__info\">\n        <h3 className=\"place__title\">{card.name}</h3>\n        <div className=\"place__likes-container\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"place__likes-count\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from 'react';\n// import api from '../utils/api';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  handleCardClick,\n  onCardLike,\n  onCardDelete,\n  cards,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // const [userName, setUserName] = React.useState('Жак-Ив Кусто');\n  // const [userDescription, setUserDescription] = React.useState(\n  //   'Исследователь океана'\n  // );\n  // const [userAvatar, setUserAvatar] = React.useState('');\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile page__section\">\n        <div\n          className=\"profile__avatar\"\n          onClick={onEditAvatar}\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n        ></div>\n\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <p className=\"profile__bio\">{currentUser.about}</p>\n\n          <button\n            className=\"profile__edit-button button button_type_edit hover\"\n            type=\"button\"\n            onClick={onEditProfile}\n          ></button>\n        </div>\n\n        <button\n          className=\"button button_type_add hover\"\n          name=\"add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"places page__section\">\n        <ul className=\"places__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={handleCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer page__section\">\n    <p className=\"footer__copyright\">&copy; 2021 Максим Тропников</p>\n  </footer>\n  );\n}\n\nexport default Footer;\n","function PopupWithForm(props) {\n  return (\n    <div\n      className={\n        props.isOpen\n          ? `popup popup_type_${props.name} popup_opened`\n          : `popup popup_type_${props.name}`\n      }\n    >\n      <div className=\"popup__container\">\n        <button\n          className=\"\n            popup__close\n            button button_type_close\n            hover\n          \"\n          onClick={props.onClose}\n          type=\"button\"\n          aria-label=\"Закрыть попап\"\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n\n        <form\n          onSubmit={props.onSubmit}\n          action=\"#\"\n          className={`form popup__form form_type_${props.name}`}\n          name={`${props.name}-form`}\n          noValidate\n        >\n          {props.children}\n          <button\n            type=\"submit\"\n            className=\"\n          popup__save\n          button\n          form__submit\n          button_type_save\n          \"\n          >\n            {props.submitButtonText}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","function ImagePopup(props) {\n  return (\n    <div\n      className={\n        props.card\n          ? `popup popup_photo place-full-photo popup_opened`\n          : `popup popup_photo place-full-photo`\n      }\n    >\n      <div className=\"popup__photo-container\">\n        <button\n          className=\"popup__close button button_type_close hover\"\n          type=\"button\"\n          aria-label=\"Закрыть попап\"\n          onClick={props.onClose}\n        ></button>\n\n        <img\n          src={props.card ? props.card.link : `#`}\n          alt={props.card ? props.card.name : `Фотография места`}\n          className=\"place-full-photo__image\"\n        />\n        <h3 className=\"place-full-photo__caption\">\n          {props.card ? props.card.name : ``}\n        </h3>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import { token, serverUrl } from './utils.js';\n\nclass Api {\n  #baseUrl;\n  #headers;\n\n  constructor(options) {\n    this.#baseUrl = options.baseUrl;\n    this.#headers = options.headers;\n  }\n\n  #handleResponse = (response) => {\n    return response.ok\n      ? response.json()\n      : Promise.reject(`Ошибка: ${response.status}`);\n  };\n\n  getInitialCards() {\n    return fetch(this.#baseUrl + '/cards', {\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  getUserData() {\n    return fetch(this.#baseUrl + '/users/me', {\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  saveUserData(inputData) {\n    return fetch(this.#baseUrl + '/users/me', {\n      method: 'PATCH',\n      headers: this.#headers,\n      body: JSON.stringify(inputData),\n    }).then(this.#handleResponse);\n  }\n\n  addNewCard(cardData) {\n    return fetch(this.#baseUrl + '/cards', {\n      method: 'POST',\n      headers: this.#headers,\n      body: JSON.stringify(cardData),\n    }).then(this.#handleResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(this.#baseUrl + `/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  changeLikeCardStatus(cardId, like) {\n    return fetch(this.#baseUrl + `/cards/likes/${cardId}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  likeCard(cardId) {\n    return fetch(this.#baseUrl + `/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  dislikeCard(cardId) {\n    return fetch(this.#baseUrl + `/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this.#headers,\n    }).then(this.#handleResponse);\n  }\n\n  updateAvatar(inputLink) {\n    return fetch(this.#baseUrl + `/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.#headers,\n      body: JSON.stringify(inputLink),\n    }).then(this.#handleResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: serverUrl,\n  headers: {\n    authorization: token,\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","export const serverUrl = 'https://mesto.nomoreparties.co/v1/cohort-27';\n// export const serverUrl = 'https://mesto.nomoreparties.co/v1/cohort-26';\nexport const token = '37580e29-ca43-4e60-bfc4-9731d6167691';\n// export const token = '3936a02f-bc3d-48a7-bceb-bcb201e7df53';\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [isOpen, currentUser]);\n\n  const [name, setName] = React.useState('Жак Ив Кусто');\n  const [description, setDescription] = React.useState('Исследователь океана');\n\n  const handleNameChange = (evt) => {\n    setName(evt.target.value);\n  };\n\n  const handleDescriptionChange = (evt) => {\n    setDescription(evt.target.value);\n  };\n\n  const handleSubmit = (evt) => {\n    // Запрещаем браузеру переходить по адресу формы\n    evt.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"profile-edit\"\n      title=\"Редактировать профиль\"\n      submitButtonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        value={name}\n        onChange={handleNameChange}\n        id=\"profile-name-input\"\n        type=\"text\"\n        name=\"name\"\n        className=\"form__input\"\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n      />\n      <span className=\"profile-name-input-error form__input-error\"></span>\n      <input\n        value={description}\n        onChange={handleDescriptionChange}\n        id=\"profile-bio-input\"\n        type=\"text\"\n        name=\"about\"\n        className=\"form__input\"\n        placeholder=\"Краткое био\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n      />\n      <span className=\"profile-bio-input-error form__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ onClose, isOpen, onUpdateAvatar }) {\n  const avatarRef = React.useRef('');\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"avatar-update\"\n      title=\"Обновить аватар\"\n      submitButtonText=\"Сохранить\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        id=\"avatar-update-input\"\n        type=\"url\"\n        name=\"avatar\"\n        className=\"form__input\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        ref={avatarRef}\n      />\n      <span className=\"avatar-update-input-error form__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlace }) {\n  const [placeName, setPlaceName] = React.useState('');\n  const [placeLink, setPlaceLink] = React.useState('');\n\n  // ? Правильно ли я понимаю, что через рефы код короче? :\n  // const placeNameRef = React.useRef('');\n  // const placeLinkRef = React.useRef('');\n  // const handleSubmit = (evt) => {\n  // evt.preventDefault();\n  // onAddPlace({\n  // name: placeNameRef.current.value,\n  // link: placeLinkRef.current.value,\n  // });\n  // };\n  // Есть ли какие-то рекомендации, что лучше использовать здесь (и вообще)?\n  // И как в таком случае очищать поле ввода? Потому что в попапе аватара оно сейчас не очищается...\n\n  React.useEffect(() => {\n    setPlaceName('');\n    setPlaceLink('');\n  }, [isOpen]);\n\n  const handlePlaceNameChange = (evt) => {\n    setPlaceName(evt.target.value);\n  };\n  const handlePlaceLinkChange = (evt) => {\n    setPlaceLink(evt.target.value);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    onAddPlace({ name: placeName, link: placeLink });\n  };\n\n  return (\n    <PopupWithForm\n      onClose={onClose}\n      isOpen={isOpen}\n      name=\"place-add\"\n      title=\"Новое место\"\n      submitButtonText=\"Создать\"\n      onSubmit={handleSubmit}\n    >\n      <input\n        // ref={placeNameRef}\n        id=\"place-name-input\"\n        type=\"text\"\n        name=\"name\"\n        className=\"form__input\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n        value={placeName}\n        onChange={handlePlaceNameChange}\n      />\n      <span className=\"place-name-input-error form__input-error\"></span>\n      <input\n        // ref={placeLinkRef}\n        id=\"place-link-input\"\n        type=\"url\"\n        name=\"link\"\n        className=\"form__input\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        value={placeLink}\n        onChange={handlePlaceLinkChange}\n      />\n      <span className=\"place-link-input-error form__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about: '',\n    _id: '',\n  });\n\n  const [cards, setCards] = React.useState([]);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\n    React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\n    React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n\n  React.useEffect(() => {\n    Promise.all([api.getUserData(), api.getInitialCards()])\n      .then(([userData, cards]) => {\n        setCurrentUser(userData);\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(null);\n  };\n\n  //* User\n\n  const handleUpdateUser = (inputData) => {\n    api\n      .saveUserData(inputData)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleUpdateAvatar = (avatarLink) => {\n    api\n      .updateAvatar(avatarLink)\n      .then((response) => {\n        setCurrentUser(response);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  //* Cards\n\n  const handleCardLike = (card) => {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    const isOwn = card.owner._id === currentUser._id;\n    if (isOwn) {\n      api\n        .deleteCard(card._id)\n        .then(() =>\n          setCards((state) => state.filter((c) => c._id !== card._id))\n        )\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  const handleAddPlaceSubmit = (newCard) => {\n    api\n      .addNewCard(newCard)\n      .then((response) => {\n        setCards([response, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__container\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          handleCardClick={handleCardClick}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n          cards={cards}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          onClose={closeAllPopups}\n          isOpen={isEditProfilePopupOpen}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <PopupWithForm\n          onClose={closeAllPopups}\n          name=\"confirmation\"\n          title=\"Вы уверены?\"\n          submitButtonText=\"Да\"\n        ></PopupWithForm>\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}